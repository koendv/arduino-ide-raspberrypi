commit 8264905d7fad8d4c16401957ea7d70eac8c82815
Author: Koen De Vleeschauwer <kdv@kdvelectronics.eu>
Date:   Wed Sep 14 16:18:41 2022 +0200

    arm64

diff --git a/.github/workflows/build.yml b/.github/workflows/build.yml
index e886454..6c1f8bf 100644
--- a/.github/workflows/build.yml
+++ b/.github/workflows/build.yml
@@ -39,17 +39,18 @@ jobs:
     strategy:
       matrix:
         config:
-          - os: windows-2019
-            certificate-secret: WINDOWS_SIGNING_CERTIFICATE_PFX # Name of the secret that contains the certificate.
-            certificate-password-secret: WINDOWS_SIGNING_CERTIFICATE_PASSWORD # Name of the secret that contains the certificate password.
-            certificate-extension: pfx  # File extension for the certificate.
-          - os: ubuntu-18.04 # https://github.com/arduino/arduino-ide/issues/259
-          - os: macos-latest
-            # APPLE_SIGNING_CERTIFICATE_P12 secret was produced by following the procedure from:
-            # https://www.kencochrane.com/2020/08/01/build-and-sign-golang-binaries-for-macos-with-github-actions/#exporting-the-developer-certificate
-            certificate-secret: APPLE_SIGNING_CERTIFICATE_P12
-            certificate-password-secret: KEYCHAIN_PASSWORD
-            certificate-extension: p12
+#          - os: windows-2019
+#            certificate-secret: WINDOWS_SIGNING_CERTIFICATE_PFX # Name of the secret that contains the certificate.
+#            certificate-password-secret: WINDOWS_SIGNING_CERTIFICATE_PASSWORD # Name of the secret that contains the certificate password.
+#            certificate-extension: pfx  # File extension for the certificate.
+#          - os: ubuntu-18.04 # https://github.com/arduino/arduino-ide/issues/259
+#          - os: macos-latest
+#            # APPLE_SIGNING_CERTIFICATE_P12 secret was produced by following the procedure from:
+#            # https://www.kencochrane.com/2020/08/01/build-and-sign-golang-binaries-for-macos-with-github-actions/#exporting-the-developer-certificate
+#            certificate-secret: APPLE_SIGNING_CERTIFICATE_P12
+#            certificate-password-secret: KEYCHAIN_PASSWORD
+#            certificate-extension: p12
+          - os: self-hosted
     runs-on: ${{ matrix.config.os }}
     timeout-minutes: 90
 
@@ -64,6 +65,7 @@ jobs:
           registry-url: 'https://registry.npmjs.org'
 
       - name: Install Python 3.x
+        if: matrix.config.os != 'self-hosted'
         uses: actions/setup-python@v2
         with:
           python-version: '3.x'
@@ -127,6 +129,10 @@ jobs:
             name: Linux_X86-64_zip
           - path: '*Linux_64bit.AppImage'
             name: Linux_X86-64_app_image
+          - path: '*Linux_ARM64.zip'
+            name: Linux_ARM64_zip
+          - path: '*Linux_ARM64.AppImage'
+            name: Linux_ARM64_app_image
           - path: '*macOS_64bit.dmg'
             name: macOS_dmg
           - path: '*macOS_64bit.zip'
diff --git a/arduino-ide-extension/scripts/download-ls.js b/arduino-ide-extension/scripts/download-ls.js
index a67c659..c8c126e 100755
--- a/arduino-ide-extension/scripts/download-ls.js
+++ b/arduino-ide-extension/scripts/download-ls.js
@@ -82,6 +82,12 @@
       lsSuffix = 'Linux_64bit.tar.gz';
       clangdSuffix = 'Linux_64bit';
       break;
+    case 'linux-arm64':
+      clangdExecutablePath = path.join(build, 'clangd');
+      clangFormatExecutablePath = path.join(build, 'clang-format');
+      lsSuffix = 'Linux_ARM64.tar.gz';
+      clangdSuffix = 'Linux_ARM64';
+      break;
     case 'win32-x64':
       clangdExecutablePath = path.join(build, 'clangd.exe');
       clangFormatExecutablePath = path.join(build, 'clang-format.exe');
